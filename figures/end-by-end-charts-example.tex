\begin{lstlisting}[language=LaTeX, caption=End-by-End Charts Example, label=listing:end-by-end-charts-example]
\endbyend[float=!htb]{\linewidth}{
    \begin{BiliFigure}[float=H,label=figure:end-by-end-charts-example-1]{An example of shear wave velocity measurement}{剪切波速度测量示例}
        \includegraphics[width=0.5\linewidth]{figures/figure-5.png}
    \end{BiliFigure}
}{
    \begin{BiliFigure}[float=H,label=figure:end-by-end-charts-example-2]{An example of shear wave velocity measurement}{剪切波速度测量示例}
        \includegraphics[width=0.5\linewidth]{figures/figure-6.png}
    \end{BiliFigure}
}
\end{lstlisting}

\endbyend[float=!htb]{\linewidth}{
    \begin{BiliFigure}[float=H,label=figure:end-by-end-charts-example-1]{An example of shear wave velocity measurement}{剪切波速度测量示例}
        \includegraphics[width=0.5\linewidth]{figures/figure-5.png}
    \end{BiliFigure}
}{
    \begin{BiliFigure}[float=H,label=figure:end-by-end-charts-example-2]{An example of shear wave velocity measurement}{剪切波速度测量示例}
        \includegraphics[width=0.5\linewidth]{figures/figure-6.png}
    \end{BiliFigure}
}